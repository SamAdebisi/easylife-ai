schema: '2.0'
stages:
  nlp-preprocess:
    cmd: python pipelines/nlp_prepare_data.py
    deps:
    - path: pipelines/nlp_prepare_data.py
      hash: md5
      md5: b1d71097df1822ca74801c4dc5848293
      size: 1146
    outs:
    - path: data/processed/nlp
      hash: md5
      md5: b2d887959239c98daa659debdccd63ec.dir
      size: 1188
      nfiles: 2
    - path: data/raw/nlp_sentiment.csv
      hash: md5
      md5: 1fae0bd9d445a9a79a53f7612880f027
      size: 1177
  nlp-train:
    cmd: python -m nlp_service.train
    deps:
    - path: data/processed/nlp/test.csv
      hash: md5
      md5: 272e63c5059a80c227dd2ee2b2c8bcb6
      size: 241
    - path: data/processed/nlp/train.csv
      hash: md5
      md5: e85080e2721feb8fc3e4932efe641221
      size: 947
    - path: nlp_service/train.py
      hash: md5
      md5: a78fd67d8760277d666df2deeaa4118c
      size: 4023
    outs:
    - path: nlp_service/artifacts/metrics.json
      hash: md5
      md5: 816d0a2a70f6979c760b94f3dfa26507
      size: 34
    - path: nlp_service/artifacts/mlflow_model
      hash: md5
      md5: 3907aa5b562b2e615e27893dbd96669d.dir
      size: 12843
      nfiles: 5
    - path: nlp_service/artifacts/sentiment_model.pkl
      hash: md5
      md5: 6198f983d436a81145b879a9ad02b3b1
      size: 12125
  cv-ingest:
    cmd: python pipelines/cv_ingest_data.py
    deps:
    - path: configs/cv_ingest.yaml
      hash: md5
      md5: 3173c38f47950a6f586d30774f5b4b16
      size: 380
    - path: pipelines/cv_ingest_data.py
      hash: md5
      md5: d98ab11d9a585db3d1db669d3393aa91
      size: 4864
    outs:
    - path: data/raw/cv
      hash: md5
      md5: 393d224b16800f9926bfc6c11e14fe3f.dir
      size: 434921
      nfiles: 48
  cv-preprocess:
    cmd: python pipelines/cv_prepare_data.py
    deps:
    - path: data/raw/cv
      hash: md5
      md5: 393d224b16800f9926bfc6c11e14fe3f.dir
      size: 434921
      nfiles: 48
    - path: pipelines/cv_prepare_data.py
      hash: md5
      md5: 9a83cc5c24822cbfb0614cd31fcca88e
      size: 1452
    outs:
    - path: data/processed/cv/labels.csv
      hash: md5
      md5: e4a7d9e52e2d724c3ac9454d218c3a75
      size: 1556
  cv-train:
    cmd: python cv_service/train.py
    deps:
    - path: cv_service/train.py
      hash: md5
      md5: d2d34a5d79381acddb0ba529c04e75a5
      size: 4162
    - path: data/processed/cv/labels.csv
      hash: md5
      md5: e4a7d9e52e2d724c3ac9454d218c3a75
      size: 1556
    outs:
    - path: cv_service/artifacts/blur_model.joblib
      hash: md5
      md5: 109e5340548e17727c829e3d611cae0f
      size: 178
    - path: cv_service/artifacts/metrics.json
      hash: md5
      md5: f30e5ce3c1e60fbc0b0484a05faed25c
      size: 174
  ts-prepare:
    cmd: python pipelines/ts_prepare_data.py
    deps:
    - path: pipelines/ts_prepare_data.py
      hash: md5
      md5: aebd4a3888cd4e79060b5574599b6d18
      size: 471
    outs:
    - path: data/processed/ts/series.csv
      hash: md5
      md5: 0fc577748bb0e2da5079d29cdf6f6cec
      size: 31835
    - path: data/raw/ts/synthetic_series.csv
      hash: md5
      md5: 0fc577748bb0e2da5079d29cdf6f6cec
      size: 31835
  ts-train:
    cmd: python -m ts_forecasting.train
    deps:
    - path: data/processed/ts/series.csv
      hash: md5
      md5: 0fc577748bb0e2da5079d29cdf6f6cec
      size: 31835
    - path: ts_forecasting/data_utils.py
      hash: md5
      md5: 86edfe632dfed91f023338c01e1de766
      size: 2844
    - path: ts_forecasting/model.py
      hash: md5
      md5: 309ef11df3edb11da7e272888e1a5200
      size: 3566
    - path: ts_forecasting/train.py
      hash: md5
      md5: b71c46ec86cc64173b4d31a91ff6e8d3
      size: 1470
    outs:
    - path: ts_forecasting/artifacts/holt_winters.pkl
      hash: md5
      md5: 805e1d0a39db51de44f5c18351870dd7
      size: 136458
    - path: ts_forecasting/artifacts/metadata.json
      hash: md5
      md5: 0c0cf71731548f546cff8ae0b1e2b332
      size: 237
    - path: ts_forecasting/artifacts/metrics.json
      hash: md5
      md5: 2d00e64bd1de2e23d9d47b70e73f299a
      size: 91
